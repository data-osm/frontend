<div style="padding: 24px;">
    <ng-container *ngIf="parameter$|async as parameter">
        <mat-card style="margin-bottom: 24px;">
            <mat-card-header>
                <mat-card-title> {{'admin.parameter.title' |translate}} </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div fxLayout style="margin-top: 15px;">
                    <span style="font-size: 12px;font-weight: 500;color: rgba(0, 0, 0, 0.54);" fxFlex="200px"> {{'admin.parameter.principal_profil' |translate}}</span>
                    <h4 fxFlex> {{parameter?.map?.name}} </h4>
                </div>
                <div fxLayout style="margin-top: 15px;" >
                    <span style="font-size: 12px;font-weight: 500;color: rgba(0, 0, 0, 0.54);" fxFlex="200px"> {{'admin.parameter.source_extent' |translate}}  </span>
                    <h4 fxFlex> {{parameter?.extent?.name}} </h4>
                </div>
                <div fxLayout style="margin-top: 15px;" >
                    <span style="font-size: 12px;font-weight: 500;color: rgba(0, 0, 0, 0.54);" fxFlex="200px"> {{'admin.parameter.source_principal' |translate}}</span>
                    <h4 fxFlex> {{parameter?.appExtent?.name}} </h4>
                </div>
                <button mat-flat-button style="margin-top: 15px;" color="accent" class="white" (click)="onUpdateAParameterInstance(parameter)" > {{'admin.parameter.update' |translate}}</button>
            </mat-card-content>
        </mat-card>

        <mat-card>
            <mat-card-header>
                <mat-card-title> {{'admin.parameter.admin_boundary.title' |translate}} </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <table mat-table [dataSource]="parameter.boundary" style="width:100%">
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef> Nom </th>
                        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="source">
                        <th mat-header-cell *matHeaderCellDef> Source </th>
                        <td mat-cell *matCellDef="let element"> {{element.vector.name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let element">
                            <svg style="cursor:pointer" (click)="onDeleteAdministrativeBoundaryInstance(element)" height="17" width="17"
                                viewBox="0 0 49.501 50">
                                <path fill="red"
                                    d="M17.865 0v5.938H0V9.43h4.543L8.393 50h32.77l3.8-40.57h4.54V5.94H31.635V0zm3.493 3.493h6.786v2.445h-6.786zM8.052 9.43h33.4L37.98 46.508H11.57zm9.71 7.632l-3.487.208 1.497 25.1 3.487-.208zm14.477 0l-1.5 25.1 3.487.207 1.496-25.1zm-8.988.104v25.1h3.493v-25.1z">
                                </path>
                            </svg>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumnsAdminBoundary"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsAdminBoundary;"></tr>
                </table>
                <button mat-flat-button style="margin-top: 15px;" color="accent" class="white" (click)="onAddAdministrativeBoundaryInstance()" > {{'admin.parameter.admin_boundary.add_title' |translate}}</button>
            </mat-card-content>
        </mat-card>

        <mat-card style="margin-bottom: 24px;margin-top: 24px;">
            <mat-card-header>
                <mat-card-title> {{'admin.parameter.info' |translate}} </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <md-editor name="Content" 
                    [mode]="markDownEditorMode"
                    [(ngModel)]="info"
                    [height]="'500px'" 
                    [options]="{enablePreviewContentClick:true}"
                >
                </md-editor>
                <button *ngIf="markDownEditorMode=='preview'"  mat-flat-button style="margin-top: 15px;" color="accent" class="white" (click)="onEditMarDownInfo()" > {{'admin.parameter.update_info' |translate}}</button>

                <button *ngIf="markDownEditorMode=='editor'" mat-flat-button style="margin-top: 15px;" color="warn" class="white" (click)="cancelEditMarkDown()" > {{'cancel' |translate}}</button>
                <button *ngIf="markDownEditorMode=='editor'" mat-flat-button style="margin-top: 15px;margin-left: 10px;" color="accent" class="white" (click)="onUpdateInfoInstance(parameter)" > {{'admin.parameter.update' |translate}}</button>

            </mat-card-content>
        </mat-card>

    </ng-container>

</div>