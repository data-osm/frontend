<h1 mat-dialog-title>
    <span class="bold primaryColor " style="font-size: 17px;">{{ 'admin.add_group.title' | translate }}
    </span>
    <i (click)="close()" class="fa fa-times primaryColor pointer close"></i>
</h1>

<mat-dialog-content>
    <form [formGroup]="form" >
        <mat-form-field appearance="outline" *ngIf="form.get('name')" style="width: 100%;">
            <mat-label> {{ 'admin.add_group.group_name' | translate }} </mat-label>
            <input matInput formControlName="name">
            <mat-error> {{ 'add_vector_provider.name_error' | translate }} </mat-error>
        </mat-form-field>

        <mat-form-field *ngIf="form.get('color')" style="width: 100%;">
            <mat-label> {{ 'admin.add_group.color' | translate }} </mat-label>
            <input 
            class="input-style"
            [cpAlphaChannel]="'always'"
            [cpOutputFormat]="'rgba'"
            [cpPresetColors]="presetValues"
            [cpSaveClickOutside]="true"
            [(colorPicker)]="form.get('color').value" 
            (colorPickerChange)="onColorPickerSelect($event,'color')"
            matInput 
            [attr.style]="('background:' + form.get('color').value + ' !important') | safeStyle"
            formControlName="color" 
            />
           
            <mat-error> {{ 'add_vector_provider.name_error' | translate }} </mat-error>
        </mat-form-field>

    </form>
</mat-dialog-content>

<mat-dialog-actions>
    <div fxLayout fxLayoutGap="15px" fxLayoutAlign="end">
        <mat-progress-bar fxFlex="100%" mode="indeterminate" *ngIf="form.disabled"></mat-progress-bar>
        <button fxFlex="150px" mat-stroked-button color="primary" [disabled]="form.disabled"
            (click)="close()">{{ 'cancel' | translate }}</button>
        <button fxFlex="150px" mat-flat-button color="accent" class="white" (click)="onAddInstance()"
            [disabled]="!form.valid || form.disabled"> {{ 'save' | translate }} </button>
    </div>
</mat-dialog-actions>